<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | AWK Authentication System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container fade-in">
        <div class="logo">
            <h1>AW<span>K</span></h1>
            <p>Authentication System</p>
        </div>

        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" />
                <div class="slider"></div>
            </label>
            <div class="slider-text">Dark Mode</div>
        </div>

        <div class="form-container">
            <h2><i class="fas fa-sign-in-alt"></i> Login</h2>
            
            <form method="POST">
                {{ form.hidden_tag() }}
                
                <div class="form-group">
                    <label for="username">{{ form.username.label }}</label>
                    {{ form.username(class="form-control", placeholder="Enter your username") }}
                </div>
                
                <div class="form-group">
                    <label for="password">{{ form.password.label }}</label>
                    {{ form.password(class="form-control", placeholder="Enter your password") }}
                </div>
                
                <button type="submit" class="btn btn-success">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
            
            <div class="nav" style="margin-top: 20px;">
                <a href="{{ url_for('register') }}" class="nav-link">
                    <i class="fas fa-user-plus"></i> Create an Account
                </a>
            </div>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert {% if category == 'success' %}alert-success{% elif category == 'warning' %}alert-warning{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        <div class="footer">
            <p>&copy; AWK Authentication System. All rights reserved.</p>
        </div>
    </div>

    <script>
        // Dark mode toggle
        const checkbox = document.getElementById('checkbox');
        
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            checkbox.checked = true;
        }
        
        checkbox.addEventListener('change', function() {
            if (this.checked) {
                document.body.classList.add('dark-mode');
                localStorage.setItem('darkMode', 'true');
            } else {
                document.body.classList.remove('dark-mode');
                localStorage.setItem('darkMode', 'false');
            }
        });
    </script>
</body>
</html>